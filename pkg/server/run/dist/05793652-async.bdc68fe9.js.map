{"version":3,"sources":["src/pages/user/login/index.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Spin, Result, Button } from 'antd';\nimport { LoadingOutlined } from '@ant-design/icons';\nimport { signinRedirect } from '@/config/casdoor';\n\nconst Login: React.FC = () => {\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    try {\n      // 页面加载时直接跳转到 Casdoor 登录\n      signinRedirect();\n    } catch (err: any) {\n      console.error('跳转到 Casdoor 失败:', err);\n      setError(err.message || '跳转到登录页面失败');\n    }\n  }, []);\n\n  if (error) {\n    return (\n      <div\n        style={{\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center',\n          height: '100vh',\n        }}\n      >\n        <Result\n          status=\"error\"\n          title=\"登录失败\"\n          subTitle={error}\n          extra={[\n            <Button\n              type=\"primary\"\n              key=\"retry\"\n              onClick={() => {\n                window.location.reload();\n              }}\n            >\n              重试\n            </Button>,\n          ]}\n        />\n      </div>\n    );\n  }\n\n  // 显示加载中状态\n  return (\n    <div\n      style={{\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: '100vh',\n        gap: '16px',\n        backgroundColor: '#f0f2f5',\n      }}\n    >\n      <Spin indicator={<LoadingOutlined style={{ fontSize: 48 }} spin />} />\n      <div style={{ fontSize: '16px', color: '#666' }}>\n        正在跳转到统一登录平台...\n      </div>\n      <div style={{ fontSize: '14px', color: '#999' }}>\n        如果长时间未跳转，请刷新页面\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n"],"names":[],"mappings":"iQAwEA,+CAAA,8CAxE2C,oGAGZ,YAqE/B,EAnEwB,KACtB,GAAM,CAAC,EAAO,EAAS,CAAG,GAAA,UAAQ,EAAgB,YAYlD,CAVA,GAAA,WAAS,EAAC,KACR,GAAI,CAEF,GAAA,gBAAc,IAChB,CAAE,MAAO,EAAU,CACjB,QAAQ,KAAK,CAAC,2CAAmB,GACjC,EAAS,EAAI,OAAO,EAAI,0DAC1B,CACF,EAAG,EAAE,EAED,GAEA,UAAC,OACC,MAAO,CACL,QAAS,OACT,eAAgB,SAChB,WAAY,SACZ,OAAQ,OACV,WAEA,UAAC,SAAM,EACL,OAAO,QACP,MAAM,2BACN,SAAU,EACV,MAAO,CACL,UAAC,SAAM,EACL,KAAK,UAEL,QAAS,KACP,OAAO,QAAQ,CAAC,MAAM,GACxB,WACD,gBAJK,SAOP,KAQP,WAAC,OACC,MAAO,CACL,QAAS,OACT,cAAe,SACf,eAAgB,SAChB,WAAY,SACZ,OAAQ,QACR,IAAK,OACL,gBAAiB,SACnB,YAEA,UAAC,SAAI,EAAC,UAAW,UAAC,SAAe,EAAC,MAAO,CAAE,SAAU,EAAG,EAAG,IAAI,QAC/D,UAAC,OAAI,MAAO,CAAE,SAAU,OAAQ,MAAO,MAAO,WAAG,0EAGjD,UAAC,OAAI,MAAO,CAAE,SAAU,OAAQ,MAAO,MAAO,WAAG,4FAKvD"}