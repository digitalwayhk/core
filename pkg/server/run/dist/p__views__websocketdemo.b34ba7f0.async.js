(self["webpackChunkant_design_pro"]=self["webpackChunkant_design_pro"]||[]).push([[852],{11051:function(e,t,n){"use strict";n.r(t);var r=n(32059),o=n(2824),c=n(67294),s=n(37676),u=n(85893);t["default"]=function(){var e,t=(0,c.useState)("wss://echo.websocket.org"),n=(0,o.Z)(t,2),a=n[0],i=n[1],l=(0,c.useState)([]),f=(0,o.Z)(l,2),d=f[0],S=f[1],p=(0,s.ZP)(a),v=p.sendMessage,b=p.lastMessage,h=p.readyState;(0,c.useEffect)((function(){null!==b&&S((function(e){return e.concat(b)}))}),[b,S]);var E=(0,c.useCallback)((function(){return i("wss://demos.kaazing.com/echo")}),[]),O=(0,c.useCallback)((function(){return v("Hello")}),[]),y=(e={},(0,r.Z)(e,s.kQ.CONNECTING,"Connecting"),(0,r.Z)(e,s.kQ.OPEN,"Open"),(0,r.Z)(e,s.kQ.CLOSING,"Closing"),(0,r.Z)(e,s.kQ.CLOSED,"Closed"),(0,r.Z)(e,s.kQ.UNINSTANTIATED,"Uninstantiated"),e)[h];return(0,u.jsxs)("div",{children:[(0,u.jsx)("button",{onClick:E,children:"Click Me to change Socket Url"}),(0,u.jsx)("button",{onClick:O,disabled:h!==s.kQ.OPEN,children:"Click Me to send 'Hello'"}),(0,u.jsxs)("span",{children:["The WebSocket is currently ",y]}),b?(0,u.jsxs)("span",{children:["Last message: ",b.data]}):null,(0,u.jsx)("ul",{children:d.map((function(e,t){return(0,u.jsx)("span",{children:e?e.data:null},t)}))})]})}},37676:function(e,t,n){"use strict";var r=n(91835);Object.defineProperty(t,"ZP",{enumerable:!0,get:function(){return r.useWebSocket}});var o=n(66548);var c=n(51581);Object.defineProperty(t,"kQ",{enumerable:!0,get:function(){return c.ReadyState}});var s=n(69448);var u=n(49885)},73682:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.attachListeners=void 0;var o=n(21787),c=n(51581),s=n(49885),u=function(e,t,n){e.onmessage=function(e){t.current.onMessage&&t.current.onMessage(e),"function"===typeof t.current.filter&&!0!==t.current.filter(e)||n(e)}},a=function(e,t,n,r){e.onopen=function(e){t.current.onOpen&&t.current.onOpen(e),r.current=0,n(c.ReadyState.OPEN)}},i=function(e,t,n,r,o){return c.isEventSourceSupported&&e instanceof EventSource?function(){}:(s.assertIsWebSocket(e),e.onclose=function(e){var s,a;if(t.current.onClose&&t.current.onClose(e),n(c.ReadyState.CLOSED),t.current.shouldReconnect&&t.current.shouldReconnect(e)){var i=null!==(s=t.current.reconnectAttempts)&&void 0!==s?s:c.DEFAULT_RECONNECT_LIMIT;o.current<i?u=window.setTimeout((function(){o.current++,r()}),null!==(a=t.current.reconnectInterval)&&void 0!==a?a:c.DEFAULT_RECONNECT_INTERVAL_MS):(t.current.onReconnectStop&&t.current.onReconnectStop(i),console.warn("Max reconnect attempts of "+i+" exceeded"))}},function(){return u&&window.clearTimeout(u)});var u},l=function(e,t,n,o,s){var u;return e.onerror=function(a){var i,l;t.current.onError&&t.current.onError(a),c.isEventSourceSupported&&e instanceof EventSource&&(t.current.onClose&&t.current.onClose(r(r({},a),{code:1006,reason:"An error occurred with the EventSource: "+a,wasClean:!1})),n(c.ReadyState.CLOSED),e.close()),t.current.retryOnError&&(s.current<(null!==(i=t.current.reconnectAttempts)&&void 0!==i?i:c.DEFAULT_RECONNECT_LIMIT)?u=window.setTimeout((function(){s.current++,o()}),null!==(l=t.current.reconnectInterval)&&void 0!==l?l:c.DEFAULT_RECONNECT_INTERVAL_MS):(t.current.onReconnectStop&&t.current.onReconnectStop(t.current.reconnectAttempts),console.warn("Max reconnect attempts of "+t.current.reconnectAttempts+" exceeded")))},function(){return u&&window.clearTimeout(u)}};t.attachListeners=function(e,t,n,r,s,f){var d,S,p,v=t.setLastMessage,b=t.setReadyState;return n.current.fromSocketIO&&(d=o.setUpSocketIOPing(f)),u(e,n,v),a(e,n,b,s),S=i(e,n,b,r,s),p=l(e,n,b,r,s),function(){b(c.ReadyState.CLOSING),S(),p(),e.close(),d&&clearInterval(d)}}},77678:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.attachSharedListeners=void 0;var o=n(64401),c=n(51581),s=n(14480),u=n(21787),a=function(e,t){e.onmessage=function(e){s.getSubscribers(t).forEach((function(t){t.optionsRef.current.onMessage&&t.optionsRef.current.onMessage(e),"function"===typeof t.optionsRef.current.filter&&!0!==t.optionsRef.current.filter(e)||t.setLastMessage(e)}))}},i=function(e,t){e.onopen=function(e){s.getSubscribers(t).forEach((function(t){t.reconnectCount.current=0,t.optionsRef.current.onOpen&&t.optionsRef.current.onOpen(e),t.setReadyState(c.ReadyState.OPEN)}))}},l=function(e,t){e instanceof WebSocket&&(e.onclose=function(e){s.getSubscribers(t).forEach((function(t){t.optionsRef.current.onClose&&t.optionsRef.current.onClose(e),t.setReadyState(c.ReadyState.CLOSED)})),delete o.sharedWebSockets[t],s.getSubscribers(t).forEach((function(t){var n,r;if(t.optionsRef.current.shouldReconnect&&t.optionsRef.current.shouldReconnect(e)){var o=null!==(n=t.optionsRef.current.reconnectAttempts)&&void 0!==n?n:c.DEFAULT_RECONNECT_LIMIT;t.reconnectCount.current<o?setTimeout((function(){t.reconnectCount.current++,t.reconnect.current()}),null!==(r=t.optionsRef.current.reconnectInterval)&&void 0!==r?r:c.DEFAULT_RECONNECT_INTERVAL_MS):(t.optionsRef.current.onReconnectStop&&t.optionsRef.current.onReconnectStop(t.optionsRef.current.reconnectAttempts),console.warn("Max reconnect attempts of "+o+" exceeded"))}}))})},f=function(e,t){e.onerror=function(n){s.getSubscribers(t).forEach((function(t){t.optionsRef.current.onError&&t.optionsRef.current.onError(n),c.isEventSourceSupported&&e instanceof EventSource&&(t.optionsRef.current.onClose&&t.optionsRef.current.onClose(r(r({},n),{code:1006,reason:"An error occurred with the EventSource: "+n,wasClean:!1})),t.setReadyState(c.ReadyState.CLOSED))})),c.isEventSourceSupported&&e instanceof EventSource&&e.close()}};t.attachSharedListeners=function(e,t,n,r){var o;return n.current.fromSocketIO&&(o=u.setUpSocketIOPing(r)),a(e,t),l(e,t),i(e,t),f(e,t),function(){o&&clearInterval(o)}}},51581:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEventSourceSupported=t.isReactNative=t.ReadyState=t.UNPARSABLE_JSON_OBJECT=t.DEFAULT_RECONNECT_INTERVAL_MS=t.DEFAULT_RECONNECT_LIMIT=t.SOCKET_IO_PING_CODE=t.SOCKET_IO_PATH=t.SOCKET_IO_PING_INTERVAL=t.DEFAULT_EVENT_SOURCE_OPTIONS=t.EMPTY_EVENT_HANDLERS=t.DEFAULT_OPTIONS=void 0;var n=1,r=1e3*n;t.DEFAULT_OPTIONS={},t.EMPTY_EVENT_HANDLERS={},t.DEFAULT_EVENT_SOURCE_OPTIONS={withCredentials:!1,events:t.EMPTY_EVENT_HANDLERS},t.SOCKET_IO_PING_INTERVAL=25*r,t.SOCKET_IO_PATH="/socket.io/?EIO=3&transport=websocket",t.SOCKET_IO_PING_CODE="2",t.DEFAULT_RECONNECT_LIMIT=20,t.DEFAULT_RECONNECT_INTERVAL_MS=5e3,t.UNPARSABLE_JSON_OBJECT={},function(e){e[e["UNINSTANTIATED"]=-1]="UNINSTANTIATED",e[e["CONNECTING"]=0]="CONNECTING",e[e["OPEN"]=1]="OPEN",e[e["CLOSING"]=2]="CLOSING",e[e["CLOSED"]=3]="CLOSED"}(t.ReadyState||(t.ReadyState={}));var o=function(){try{return"EventSource"in globalThis}catch(e){return!1}};t.isReactNative="undefined"!==typeof navigator&&"ReactNative"===navigator.product,t.isEventSourceSupported=!t.isReactNative&&o()},23758:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createOrJoinSocket=void 0;var r=n(64401),o=n(51581),c=n(73682),s=n(77678),u=n(14480),a=function(e,t,n,c,s){return function(){if(u.removeSubscriber(e,t),!u.hasSubscribers(e)){try{var a=r.sharedWebSockets[e];a instanceof WebSocket&&(a.onclose=function(e){n.current.onClose&&n.current.onClose(e),c(o.ReadyState.CLOSED)}),a.close()}catch(i){}s&&s(),delete r.sharedWebSockets[e]}}};t.createOrJoinSocket=function(e,t,n,i,l,f,d,S){if(!o.isEventSourceSupported&&i.current.eventSourceOptions)throw o.isReactNative?new Error("EventSource is not supported in ReactNative"):new Error("EventSource is not supported");if(i.current.share){var p=null;void 0===r.sharedWebSockets[t]?(r.sharedWebSockets[t]=i.current.eventSourceOptions?new EventSource(t,i.current.eventSourceOptions):new WebSocket(t,i.current.protocols),e.current=r.sharedWebSockets[t],n(o.ReadyState.CONNECTING),p=s.attachSharedListeners(r.sharedWebSockets[t],t,i,S)):(e.current=r.sharedWebSockets[t],n(r.sharedWebSockets[t].readyState));var v={setLastMessage:l,setReadyState:n,optionsRef:i,reconnectCount:d,reconnect:f};return u.addSubscriber(t,v),a(t,v,i,n,p)}if(e.current=i.current.eventSourceOptions?new EventSource(t,i.current.eventSourceOptions):new WebSocket(t,i.current.protocols),n(o.ReadyState.CONNECTING),!e.current)throw new Error("WebSocket failed to be created");return c.attachListeners(e.current,{setLastMessage:l,setReadyState:n},i,f.current,d,S)}},46974:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,c){function s(e){try{a(r.next(e))}catch(t){c(t)}}function u(e){try{a(r["throw"](e))}catch(t){c(t)}}function a(e){e.done?n(e.value):o(e.value).then(s,u)}a((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,c,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function u(e){return function(t){return a([e,t])}}function a(c){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(o=2&c[0]?r["return"]:c[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,r=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){s=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){s.label=c[1];break}if(6===c[0]&&s.label<o[1]){s.label=o[1],o=c;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(c);break}o[2]&&s.ops.pop(),s.trys.pop();continue}c=t.call(e,s)}catch(u){c=[6,u],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(t,"__esModule",{value:!0}),t.getUrl=void 0;var c=n(21787);t.getUrl=function(e,t){return r(void 0,void 0,void 0,(function(){var n,r,s;return o(this,(function(o){switch(o.label){case 0:return"function"!==typeof e?[3,2]:[4,e()];case 1:return n=o.sent(),[3,3];case 2:n=e,o.label=3;case 3:return r=t.current.fromSocketIO?c.parseSocketIOUrl(n):n,s=t.current.queryParams?c.appendQueryParams(r,t.current.queryParams):r,[2,s]}}))}))}},64401:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetWebSockets=t.sharedWebSockets=void 0,t.sharedWebSockets={},t.resetWebSockets=function(e){if(e&&t.sharedWebSockets.hasOwnProperty(e))delete t.sharedWebSockets[e];else for(var n in t.sharedWebSockets)t.sharedWebSockets.hasOwnProperty(n)&&delete t.sharedWebSockets[n]}},14480:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetSubscribers=t.removeSubscriber=t.addSubscriber=t.hasSubscribers=t.getSubscribers=void 0;var n={},r=[];t.getSubscribers=function(e){return t.hasSubscribers(e)?Array.from(n[e]):r},t.hasSubscribers=function(e){var t;return(null===(t=n[e])||void 0===t?void 0:t.size)>0},t.addSubscriber=function(e,t){n[e]=n[e]||new Set,n[e].add(t)},t.removeSubscriber=function(e,t){n[e].delete(t)},t.resetSubscribers=function(e){if(e&&n.hasOwnProperty(e))delete n[e];else for(var t in n)n.hasOwnProperty(t)&&delete n[t]}},54387:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.websocketWrapper=void 0,t.websocketWrapper=function(e,t){return new Proxy(e,{get:function(e,n){var r=e[n];return"reconnect"===n?t:"function"===typeof r?(console.error("Calling methods directly on the websocket is not supported at this moment. You must use the methods returned by useWebSocket."),function(){}):r},set:function(e,t,n){return/^on/.test(t)?(console.warn("The websocket's event handlers should be defined through the options object passed into useWebSocket."),!1):(e[t]=n,!0)}})},t.default=t.websocketWrapper},21787:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setUpSocketIOPing=t.appendQueryParams=t.parseSocketIOUrl=void 0;var r=n(51581);t.parseSocketIOUrl=function(e){if(e){var t=/^https|wss/.test(e),n=e.replace(/^(https?|wss?)(:\/\/)?/,""),o=n.replace(/\/$/,""),c=t?"wss":"ws";return c+"://"+o+r.SOCKET_IO_PATH}if(""===e){t=/^https/.test(window.location.protocol),c=t?"wss":"ws";var s=window.location.port?":"+window.location.port:"";return c+"://"+window.location.hostname+s+r.SOCKET_IO_PATH}return e},t.appendQueryParams=function(e,t){void 0===t&&(t={});var n=/\?([\w]+=[\w]+)/,r=n.test(e),o=""+Object.entries(t).reduce((function(e,t){var n=t[0],r=t[1];return e+(n+"=")+r+"&"}),"").slice(0,-1);return e+(r?"&":"?")+o},t.setUpSocketIOPing=function(e,t){void 0===t&&(t=r.SOCKET_IO_PING_INTERVAL);var n=function(){return e(r.SOCKET_IO_PING_CODE)};return setInterval(n,t)}},69448:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.useEventSource=void 0;var c=n(67294),s=n(91835),u=n(51581);t.useEventSource=function(e,t,n){void 0===t&&(t=u.DEFAULT_EVENT_SOURCE_OPTIONS),void 0===n&&(n=!0);var a=t.withCredentials,i=t.events,l=o(t,["withCredentials","events"]),f=r(r({},l),{eventSourceOptions:{withCredentials:a}}),d=c.useRef(u.EMPTY_EVENT_HANDLERS);i&&(d.current=i);var S=s.useWebSocket(e,f,n),p=S.lastMessage,v=S.readyState,b=S.getWebSocket;return c.useEffect((function(){(null===p||void 0===p?void 0:p.type)&&Object.entries(d.current).forEach((function(e){var t=e[0],n=e[1];t===p.type&&n(p)}))}),[p]),{lastEvent:p,readyState:v,getEventSource:b}}},66548:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.useSocketIO=void 0;var o=n(67294),c=n(91835),s=n(51581),u={type:"empty",payload:null},a=function(e){if(!e||!e.data)return u;var t=e.data.match(/\[.*]/);if(!t)return u;var n=JSON.parse(t);return Array.isArray(n)&&n[1]?{type:n[0],payload:n[1]}:u};t.useSocketIO=function(e,t,n){void 0===t&&(t=s.DEFAULT_OPTIONS),void 0===n&&(n=!0);var u=o.useMemo((function(){return r(r({},t),{fromSocketIO:!0})}),[]),i=c.useWebSocket(e,u,n),l=i.sendMessage,f=i.sendJsonMessage,d=i.lastMessage,S=i.readyState,p=i.getWebSocket,v=o.useMemo((function(){return a(d)}),[d]);return{sendMessage:l,sendJsonMessage:f,lastMessage:v,lastJsonMessage:v,readyState:S,getWebSocket:p}}},91835:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,c){function s(e){try{a(r.next(e))}catch(t){c(t)}}function u(e){try{a(r["throw"](e))}catch(t){c(t)}}function a(e){e.done?n(e.value):o(e.value).then(s,u)}a((r=r.apply(e,t||[])).next())}))},c=this&&this.__generator||function(e,t){var n,r,o,c,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function u(e){return function(t){return a([e,t])}}function a(c){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(o=2&c[0]?r["return"]:c[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,r=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){s=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){s.label=c[1];break}if(6===c[0]&&s.label<o[1]){s.label=o[1],o=c;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(c);break}o[2]&&s.ops.pop(),s.trys.pop();continue}c=t.call(e,s)}catch(u){c=[6,u],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useWebSocket=void 0;var u=n(67294),a=n(51581),i=n(23758),l=n(46974),f=s(n(54387)),d=n(49885);t.useWebSocket=function(e,t,n){void 0===t&&(t=a.DEFAULT_OPTIONS),void 0===n&&(n=!0);var s=u.useState(null),S=s[0],p=s[1],v=u.useState({}),b=v[0],h=v[1],E=u.useMemo((function(){if(S)try{return JSON.parse(S.data)}catch(e){return a.UNPARSABLE_JSON_OBJECT}return null}),[S]),O=u.useRef(null),y=u.useRef(null),_=u.useRef((function(){})),N=u.useRef(0),T=u.useRef([]),w=u.useRef(null),C=u.useRef(t);C.current=t;var R=O.current&&void 0!==b[O.current]?b[O.current]:null!==e&&!0===n?a.ReadyState.CONNECTING:a.ReadyState.UNINSTANTIATED,k=t.queryParams?JSON.stringify(t.queryParams):null,g=u.useCallback((function(e,t){var n;void 0===t&&(t=!0),a.isEventSourceSupported&&y.current instanceof EventSource?console.warn("Unable to send a message from an eventSource"):(null===(n=y.current)||void 0===n?void 0:n.readyState)===a.ReadyState.OPEN?(d.assertIsWebSocket(y.current),y.current.send(e)):t&&T.current.push(e)}),[]),I=u.useCallback((function(e,t){void 0===t&&(t=!0),g(JSON.stringify(e),t)}),[g]),P=u.useCallback((function(){return!0!==C.current.share||a.isEventSourceSupported&&y.current instanceof EventSource?y.current:(null===w.current&&y.current&&(d.assertIsWebSocket(y.current),w.current=f.default(y.current,_)),w.current)}),[]);return u.useEffect((function(){if(null!==e&&!0===n){var t,s=!1,u=function(){return o(void 0,void 0,void 0,(function(){var n,o,u;return c(this,(function(c){switch(c.label){case 0:return n=O,[4,l.getUrl(e,C)];case 1:return n.current=c.sent(),o=function(e){s||p(e)},u=function(e){s||h((function(t){var n;return r(r({},t),O.current&&(n={},n[O.current]=e,n))}))},t=i.createOrJoinSocket(y,O.current,u,C,o,_,N,g),[2]}}))}))};return _.current=function(){s||(w.current&&(w.current=null),null===t||void 0===t||t(),u())},u(),function(){s=!0,w.current&&(w.current=null),null===t||void 0===t||t(),p(null)}}null!==e&&!1!==n||(N.current=0,h((function(e){var t;return r(r({},e),O.current&&(t={},t[O.current]=a.ReadyState.CLOSED,t))})))}),[e,n,k,g]),u.useEffect((function(){R===a.ReadyState.OPEN&&T.current.splice(0).forEach((function(e){g(e)}))}),[R]),{sendMessage:g,sendJsonMessage:I,lastMessage:S,lastJsonMessage:E,readyState:R,getWebSocket:P}}},49885:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetGlobalState=t.assertIsWebSocket=void 0;var r=n(64401),o=n(14480);function c(e){if(e instanceof WebSocket===!1)throw new Error("")}function s(e){o.resetSubscribers(e),r.resetWebSockets(e)}t.assertIsWebSocket=c,t.resetGlobalState=s}}]);