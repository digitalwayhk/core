(("undefined"!=typeof globalThis?globalThis:self)["makoChunk_ant-design-pro"]=("undefined"!=typeof globalThis?globalThis:self)["makoChunk_ant-design-pro"]||[]).push([["8b39a838"],{"14a14801":function(e,l,a){a.d(l,"__esModule",{value:!0}),a.e(l,{default:function(){return ex;}});var t=a("777fffbe"),s=a("852bbaa9"),i=a("1dda0c16"),d=a("718930c9"),n=t._(d),r=a("b94a1366"),o=a("1711f983"),c=a("2d9af956"),u=t._(c),x=a("cbd67214"),h=t._(x),f=a("caca162f"),g=t._(f),m=a("6e3566fd"),j=s._(m),p=a("90c5995c"),y=t._(p),b=a("95f2367f"),v=a("69db35bc"),k=t._(v),T=a("b2b30127"),C=t._(T),N=a("79e0af3c"),F=t._(N),D=a("56296091"),_=t._(D),w=a("278430cb");class S extends j.default.Component{main=null;componentDidMount(){this.renderToHtml();}componentDidUpdate(){this.renderToHtml();}renderToHtml=()=>{let{children:e}=this.props;this.main&&(this.main.innerHTML=(0,w.yuan)(e));};render(){return(0,i.jsx)("span",{ref:e=>{this.main=e;}});}}var $=a("752ff3ec"),I=t._($);let B={xs:24,sm:12,md:12,lg:12,xl:6,style:{marginBottom:24}},A=({loading:e,visitData:l})=>{let{styles:a}=(0,_.default)();return(0,i.jsxs)(g.default,{gutter:24,children:[(0,i.jsx)(u.default,{...B,children:(0,i.jsxs)(w.ChartCard,{bordered:!1,title:"\u603B\u4EA4\u6613\u989D",action:(0,i.jsx)(C.default,{title:"\u6307\u6807\u8BF4\u660E",children:(0,i.jsx)(y.default,{})}),loading:e,total:()=>(0,i.jsx)(S,{children:"9823928782.3"}),footer:(0,i.jsx)(w.Field,{label:"\u65E5\u4EA4\u6613\u989D",value:`$${(0,F.default)(12423).format("0,0")}`}),contentHeight:46,children:[(0,i.jsxs)(I.default,{flag:"up",style:{marginRight:16},children:["\u5468\u540C\u6BD4",(0,i.jsx)("span",{className:a.trendText,children:"12%"})]}),(0,i.jsxs)(I.default,{flag:"down",children:["\u65E5\u540C\u6BD4",(0,i.jsx)("span",{className:a.trendText,children:"11%"})]})]})}),(0,i.jsx)(u.default,{...B,children:(0,i.jsx)(w.ChartCard,{bordered:!1,loading:e,title:"\u8BBF\u95EE\u91CF",action:(0,i.jsx)(C.default,{title:"\u6307\u6807\u8BF4\u660E",children:(0,i.jsx)(y.default,{})}),total:(0,F.default)(8846).format("0,0"),footer:(0,i.jsx)(w.Field,{label:"\u65E5\u8BBF\u95EE\u91CF",value:(0,F.default)(1234).format("0,0")}),contentHeight:46,children:(0,i.jsx)(b.Area,{xField:"x",yField:"y",shapeField:"smooth",height:46,axis:!1,style:{fill:"linear-gradient(-90deg, white 0%, #975FE4 100%)",fillOpacity:.6,width:"100%"},padding:-20,data:l})})}),(0,i.jsx)(u.default,{...B,children:(0,i.jsx)(w.ChartCard,{bordered:!1,loading:e,title:"\u672A\u5E73\u4ED3\u603B\u91CF",action:(0,i.jsx)(C.default,{title:"\u6307\u6807\u8BF4\u660E",children:(0,i.jsx)(y.default,{})}),total:(0,F.default)(8560).format("0,0"),footer:(0,i.jsx)(w.Field,{label:"\u591A\u7A7A\u6BD4",value:"0.34%"}),contentHeight:46,children:(0,i.jsx)(b.Column,{xField:"x",yField:"y",padding:-20,axis:!1,height:46,data:l,scale:{x:{paddingInner:.4}}})})}),(0,i.jsx)(u.default,{...B,children:(0,i.jsx)(w.ChartCard,{loading:e,bordered:!1,title:"\u8FD0\u8425\u6D3B\u52A8\u6548\u679C",action:(0,i.jsx)(C.default,{title:"\u6307\u6807\u8BF4\u660E",children:(0,i.jsx)(y.default,{})}),total:"78%",footer:(0,i.jsxs)("div",{style:{whiteSpace:"nowrap",overflow:"hidden"},children:[(0,i.jsxs)(I.default,{flag:"up",style:{marginRight:16},children:["\u5468\u540C\u6BD4",(0,i.jsx)("span",{className:a.trendText,children:"12%"})]}),(0,i.jsxs)(I.default,{flag:"down",children:["\u65E5\u540C\u6BD4",(0,i.jsx)("span",{className:a.trendText,children:"11%"})]})]}),contentHeight:46,children:(0,i.jsx)(k.default,{percent:78,strokeColor:{from:"#108ee9",to:"#87d068"},status:"active"})})})]});};var R=a("fb726300"),H=a("90ea153d"),E=t._(H),L=a("33e07b31"),M=t._(L),O=a("8a193048"),z=t._(O);let K=({data:e,currentTabKey:l})=>(0,i.jsxs)(g.default,{gutter:8,style:{width:138,margin:"8px 0"},children:[(0,i.jsx)(u.default,{span:12,children:(0,i.jsx)(z.default,{title:e.name,subTitle:"\u8F6C\u5316\u7387",gap:2,total:`${100*e.cvr}%`,theme:l!==e.name?"light":void 0})}),(0,i.jsx)(u.default,{span:12,style:{paddingTop:36},children:(0,i.jsx)(R.Tiny.Ring,{height:60,width:60,percent:e.cvr,color:["#E8EEF4","#5FABF4"]})})]}),P=({activeKey:e,loading:l,offlineData:a,offlineChartData:t,handleTabChange:s})=>{let{styles:d}=(0,_.default)();return(0,i.jsx)(E.default,{loading:l,className:d.offlineCard,bordered:!1,style:{marginTop:32},children:(0,i.jsx)(M.default,{activeKey:e,onChange:s,items:a.map(l=>({key:l.name,label:(0,i.jsx)(K,{data:l,currentTabKey:e}),children:(0,i.jsx)("div",{style:{padding:"0 24px"},children:(0,i.jsx)(b.Line,{height:400,data:t,xField:"date",yField:"value",colorField:"type",slider:{x:!0},axis:{x:{title:!1},y:{title:!1,gridLineDash:null,gridStroke:"#ccc",gridStrokeOpacity:1}},legend:{color:{layout:{justifyContent:"center"}}}})})}))})});};var G=a("04463b55"),W=t._(G),q=()=>(0,i.jsx)("div",{style:{paddingTop:100,textAlign:"center"},children:(0,i.jsx)(W.default,{size:"large"})}),U=a("cdfcc6f2"),V=t._(U),Y=a("7dc1d35c");let{Text:J}=t._(Y).default,Q=({dropdownGroup:e,salesType:l,loading:a,salesPieData:t,handleChangeSalesType:s})=>{let{styles:d}=(0,_.default)();return(0,i.jsxs)(E.default,{loading:a,className:d.salesCard,variant:"borderless",title:"\u4EA4\u6613\u989D\u7C7B\u522B\u5360\u6BD4",style:{height:"100%"},extra:(0,i.jsxs)("div",{className:d.salesCardExtra,children:[e,(0,i.jsx)(V.default,{className:d.salesTypeRadio,value:l,onChange:s,options:[{label:"\u5168\u90E8",value:"all"},{label:"WEB",value:"online"},{label:"\u624B\u673A",value:"stores"},{label:"API",value:"api"}],size:"middle"})]}),children:[(0,i.jsx)(J,{children:"\u4EA4\u6613\u989D"}),(0,i.jsx)(b.Pie,{height:340,radius:.8,innerRadius:.5,angleField:"y",colorField:"x",data:t,legend:!1,label:{position:"spider",text:e=>`${e.x}: ${(0,F.default)(e.y).format("0,0")}`}})]});};var X=a("682f84e5"),Z=t._(X),ee=a("ce0780be");let{RangePicker:el}=t._(ee).default,ea=[];for(let e=0;e<7;e+=1)ea.push({title:`Market ${e} `,total:323234});let et=({rangePickerValue:e,salesData:l,isActive:a,handleRangePickerChange:t,loading:s,selectDate:d})=>{let{styles:n}=(0,_.default)();return console.log({salesData:l}),(0,i.jsx)(E.default,{loading:s,variant:"borderless",styles:{body:{padding:s?24:0}},children:(0,i.jsx)(M.default,{className:n.salesCard,tabBarExtraContent:(0,i.jsxs)("div",{className:n.salesExtraWrap,children:[(0,i.jsxs)("div",{className:n.salesExtra,children:[(0,i.jsx)(Z.default,{type:"text",className:a("today"),onClick:()=>d("today"),children:"\u4ECA\u65E5"}),(0,i.jsx)(Z.default,{type:"text",className:a("week"),onClick:()=>d("week"),children:"\u672C\u5468"}),(0,i.jsx)(Z.default,{type:"text",className:a("month"),onClick:()=>d("month"),children:"\u672C\u6708"}),(0,i.jsx)(Z.default,{type:"text",className:a("year"),onClick:()=>d("year"),children:"\u672C\u5E74"})]}),(0,i.jsx)(el,{value:e,onChange:t,variant:"filled",style:{width:256}})]}),size:"large",tabBarStyle:{marginBottom:24},items:[{key:"sales",label:"\u4EA4\u6613\u989D",children:(0,i.jsxs)(g.default,{children:[(0,i.jsx)(u.default,{xl:16,lg:12,md:12,sm:24,xs:24,children:(0,i.jsx)("div",{className:n.salesBar,children:(0,i.jsx)(b.Column,{height:300,data:l,xField:"x",yField:"y",paddingBottom:12,axis:{x:{title:!1},y:{title:!1,gridLineDash:null,gridStroke:"#ccc"}},scale:{x:{paddingInner:.4}},tooltip:{name:"\u4EA4\u6613\u989D",channel:"y"}})})}),(0,i.jsx)(u.default,{xl:8,lg:12,md:12,sm:24,xs:24,children:(0,i.jsxs)("div",{className:n.salesRank,children:[(0,i.jsx)("h4",{className:n.rankingTitle,children:"\u4EA4\u6613\u989D\u6392\u540D"}),(0,i.jsx)("ul",{className:n.rankingList,children:ea.map((e,l)=>(0,i.jsxs)("li",{children:[(0,i.jsx)("span",{className:`${n.rankingItemNumber} ${l<3?n.rankingItemNumberActive:""}`,children:l+1}),(0,i.jsx)("span",{className:n.rankingItemTitle,title:e.title,children:e.title}),(0,i.jsx)("span",{children:(0,F.default)(e.total).format("0,0")})]},e.title))})]})})]})},{key:"views",label:"\u8BBF\u95EE\u91CF",children:(0,i.jsxs)(g.default,{children:[(0,i.jsx)(u.default,{xl:16,lg:12,md:12,sm:24,xs:24,children:(0,i.jsx)("div",{className:n.salesBar,children:(0,i.jsx)(b.Column,{height:300,data:l,xField:"x",yField:"y",paddingBottom:12,axis:{x:{title:!1},y:{title:!1}},scale:{x:{paddingInner:.4}},tooltip:{name:"\u8BBF\u95EE\u91CF",channel:"y"}})})}),(0,i.jsx)(u.default,{xl:8,lg:12,md:12,sm:24,xs:24,children:(0,i.jsxs)("div",{className:n.salesRank,children:[(0,i.jsx)("h4",{className:n.rankingTitle,children:"\u8BBF\u95EE\u91CF\u6392\u540D"}),(0,i.jsx)("ul",{className:n.rankingList,children:ea.map((e,l)=>(0,i.jsxs)("li",{children:[(0,i.jsx)("span",{className:`${l<3?n.rankingItemNumberActive:n.rankingItemNumber}`,children:l+1}),(0,i.jsx)("span",{className:n.rankingItemTitle,title:e.title,children:e.title}),(0,i.jsx)("span",{children:(0,F.default)(e.total).format("0,0")})]},e.title))})]})})]})}]})});};var es=a("0fbf6a42"),ei=t._(es);let ed=({loading:e,visitData2:l,searchData:a,dropdownGroup:t})=>{let s=[{title:"\u6392\u540D",dataIndex:"index",key:"index"},{title:"\u5E02\u573A",dataIndex:"keyword",key:"keyword",render:e=>(0,i.jsx)("a",{href:"/",children:e})},{title:"\u7528\u6237\u6570",dataIndex:"count",key:"count",sorter:(e,l)=>e.count-l.count},{title:"\u5468\u6DA8\u5E45",dataIndex:"range",key:"range",sorter:(e,l)=>e.range-l.range,render:(e,l)=>(0,i.jsx)(I.default,{flag:1===l.status?"down":"up",children:(0,i.jsxs)("span",{style:{marginRight:4},children:[e,"%"]})})}];return(0,i.jsxs)(E.default,{loading:e,bordered:!1,title:"\u70ED\u95E8\u5E02\u573A",extra:t,style:{height:"100%"},children:[(0,i.jsxs)(g.default,{gutter:68,children:[(0,i.jsxs)(u.default,{sm:12,xs:24,style:{marginBottom:24},children:[(0,i.jsx)(z.default,{subTitle:(0,i.jsxs)("span",{children:["\u7528\u6237\u6570",(0,i.jsx)(C.default,{title:"\u6307\u6807\u8BF4\u660E",children:(0,i.jsx)(y.default,{style:{marginLeft:8}})})]}),gap:8,total:(0,F.default)(12321).format("0,0"),status:"up",subTotal:17.1}),(0,i.jsx)(b.Area,{xField:"x",yField:"y",shapeField:"smooth",height:45,axis:!1,padding:-12,style:{fill:"linear-gradient(-90deg, white 0%, #6294FA 100%)",fillOpacity:.4},data:l})]}),(0,i.jsxs)(u.default,{sm:12,xs:24,style:{marginBottom:24},children:[(0,i.jsx)(z.default,{subTitle:(0,i.jsxs)("span",{children:["\u4EBA\u5747\u4E0B\u5355\u6B21\u6570",(0,i.jsx)(C.default,{title:"\u6307\u6807\u8BF4\u660E",children:(0,i.jsx)(y.default,{style:{marginLeft:8}})})]}),total:2.7,status:"down",subTotal:26.2,gap:8}),(0,i.jsx)(b.Area,{xField:"x",yField:"y",shapeField:"smooth",height:45,padding:-12,style:{fill:"linear-gradient(-90deg, white 0%, #6294FA 100%)",fillOpacity:.4},data:l,axis:!1})]})]}),(0,i.jsx)(ei.default,{rowKey:e=>e.index,size:"small",columns:s,dataSource:a,pagination:{style:{marginBottom:0},pageSize:5}})]});};var en=a("215810bf"),er=a("22a982c7"),eo=t._(er);function ec(e){return 1*e<10?`0${e}`:e;}function eu(e){let l=new Date;if("today"===e)return l.setHours(0),l.setMinutes(0),l.setSeconds(0),[(0,eo.default)(l),(0,eo.default)(l.getTime()+86399e3)];if("week"===e){let e=l.getDay();l.setHours(0),l.setMinutes(0),l.setSeconds(0),0===e?e=6:e-=1;let a=l.getTime()-864e5*e;return[(0,eo.default)(a),(0,eo.default)(a+604799e3)];}let a=l.getFullYear();if("month"===e){let e=l.getMonth(),t=(0,eo.default)(l).add(1,"months"),s=t.year(),i=t.month();return[(0,eo.default)(`${a}-${ec(e+1)}-01 00:00:00`),(0,eo.default)((0,eo.default)(`${s}-${ec(i+1)}-01 00:00:00`).valueOf()-1e3)];}return[(0,eo.default)(`${a}-01-01 00:00:00`),(0,eo.default)(`${a}-12-31 23:59:59`)];}let ex=()=>{var e;let l;let{styles:a}=(0,_.default)(),[t,s]=(0,j.useState)("all"),[d,c]=(0,j.useState)(""),[x,f]=(0,j.useState)(eu("year")),{loading:m,data:p}=(0,o.useRequest)(en.fakeChartData);l="all"===t?null==p?void 0:p.salesTypeData:"online"===t?null==p?void 0:p.salesTypeDataOnline:null==p?void 0:p.salesTypeDataOffline;let y=(0,i.jsx)("span",{className:a.iconGroup,children:(0,i.jsx)(h.default,{menu:{items:[{key:"1",label:"\u64CD\u4F5C\u4E00"},{key:"2",label:"\u64CD\u4F5C\u4E8C"}]},placement:"bottomRight",children:(0,i.jsx)(n.default,{})})}),b=d||(null==p?void 0:null===(e=p.offlineData[0])||void 0===e?void 0:e.name)||"";return(0,i.jsxs)(r.GridContent,{children:[(0,i.jsx)(j.Suspense,{fallback:(0,i.jsx)(q,{}),children:(0,i.jsx)(A,{loading:m,visitData:(null==p?void 0:p.visitData)||[]})}),(0,i.jsx)(j.Suspense,{fallback:null,children:(0,i.jsx)(et,{rangePickerValue:x,salesData:(null==p?void 0:p.salesData)||[],isActive:e=>{if(!x)return"";let l=eu(e);return l&&x[0]&&x[1]&&x[0].isSame(l[0],"day")&&x[1].isSame(l[1],"day")?a.currentDate:"";},handleRangePickerChange:e=>{f(e);},loading:m,selectDate:e=>{f(eu(e));}})}),(0,i.jsxs)(g.default,{gutter:24,style:{marginTop:24},children:[(0,i.jsx)(u.default,{xl:12,lg:24,md:24,sm:24,xs:24,children:(0,i.jsx)(j.Suspense,{fallback:null,children:(0,i.jsx)(ed,{loading:m,visitData2:(null==p?void 0:p.visitData2)||[],searchData:(null==p?void 0:p.searchData)||[],dropdownGroup:y})})}),(0,i.jsx)(u.default,{xl:12,lg:24,md:24,sm:24,xs:24,children:(0,i.jsx)(j.Suspense,{fallback:null,children:(0,i.jsx)(Q,{dropdownGroup:y,salesType:t,loading:m,salesPieData:l||[],handleChangeSalesType:e=>{s(e);}})})})]}),(0,i.jsx)(j.Suspense,{fallback:null,children:(0,i.jsx)(P,{activeKey:b,loading:m,offlineData:(null==p?void 0:p.offlineData)||[],offlineChartData:(null==p?void 0:p.offlineChartData)||[],handleTabChange:e=>{c(e);}})})]});};}}]);
//# sourceMappingURL=8b39a838-async.aee4db78.js.map